{"ast":null,"code":"import _slicedToArray from \"I:/pherones/immemorial/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _inherits from \"I:/pherones/immemorial/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"I:/pherones/immemorial/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"I:/pherones/immemorial/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"I:/pherones/immemorial/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport t from \"tiny-emitter\";\nimport i from \"virtual-scroll\";\nfunction e() {\n  return e = Object.assign ? Object.assign.bind() : function (t) {\n    for (var i = 1; i < arguments.length; i++) {\n      var e = arguments[i];\n      for (var s in e) {\n        Object.prototype.hasOwnProperty.call(e, s) && (t[s] = e[s]);\n      }\n    }\n    return t;\n  }, e.apply(this, arguments);\n}\nfunction s(t, i) {\n  var e = t % i;\n  return e < 0 && (e += i), e;\n}\nvar r = [\"duration\", \"easing\"];\nvar o = /*#__PURE__*/function () {\n  function o() {\n    _classCallCheck(this, o);\n  }\n  _createClass(o, [{\n    key: \"to\",\n    value: function to(t) {\n      var _this = this;\n      var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _i$duration = i.duration,\n        s = _i$duration === void 0 ? 1 : _i$duration,\n        _i$easing = i.easing,\n        _o = _i$easing === void 0 ? function (t) {\n          return t;\n        } : _i$easing,\n        n = function (t, i) {\n          if (null == t) return {};\n          var e,\n            s,\n            r = {},\n            o = Object.keys(t);\n          for (s = 0; s < o.length; s++) {\n            i.indexOf(e = o[s]) >= 0 || (r[e] = t[e]);\n          }\n          return r;\n        }(i, r);\n      this.target = t, this.fromKeys = e({}, n), this.toKeys = e({}, n), this.keys = Object.keys(e({}, n)), this.keys.forEach(function (i) {\n        _this.fromKeys[i] = t[i];\n      }), this.duration = s, this.easing = _o, this.currentTime = 0, this.isRunning = !0;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.isRunning = !1;\n    }\n  }, {\n    key: \"raf\",\n    value: function raf(t) {\n      var _this2 = this;\n      if (!this.isRunning) return;\n      this.currentTime = Math.min(this.currentTime + t, this.duration);\n      var i = this.easing(this.progress);\n      this.keys.forEach(function (t) {\n        var e = _this2.fromKeys[t];\n        _this2.target[t] = e + (_this2.toKeys[t] - e) * i;\n      }), 1 === i && this.stop();\n    }\n  }, {\n    key: \"progress\",\n    get: function get() {\n      return this.currentTime / this.duration;\n    }\n  }]);\n  return o;\n}();\nvar n = /*#__PURE__*/function (_t) {\n  _inherits(n, _t);\n  var _super = _createSuper(n);\n  function n() {\n    var _this3;\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$duration = _ref.duration,\n      t = _ref$duration === void 0 ? 1.2 : _ref$duration,\n      _ref$easing = _ref.easing,\n      e = _ref$easing === void 0 ? function (t) {\n        return Math.min(1, 1.001 - Math.pow(2, -10 * t));\n      } : _ref$easing,\n      _ref$smooth = _ref.smooth,\n      s = _ref$smooth === void 0 ? !0 : _ref$smooth,\n      _ref$mouseMultiplier = _ref.mouseMultiplier,\n      r = _ref$mouseMultiplier === void 0 ? 1 : _ref$mouseMultiplier,\n      _ref$smoothTouch = _ref.smoothTouch,\n      _n = _ref$smoothTouch === void 0 ? !1 : _ref$smoothTouch,\n      _ref$touchMultiplier = _ref.touchMultiplier,\n      h = _ref$touchMultiplier === void 0 ? 2 : _ref$touchMultiplier,\n      _ref$direction = _ref.direction,\n      l = _ref$direction === void 0 ? \"vertical\" : _ref$direction,\n      _ref$gestureDirection = _ref.gestureDirection,\n      c = _ref$gestureDirection === void 0 ? \"vertical\" : _ref$gestureDirection,\n      _ref$infinite = _ref.infinite,\n      a = _ref$infinite === void 0 ? !1 : _ref$infinite,\n      _ref$wrapper = _ref.wrapper,\n      p = _ref$wrapper === void 0 ? window : _ref$wrapper,\n      _ref$content = _ref.content,\n      u = _ref$content === void 0 ? document.body : _ref$content;\n    _classCallCheck(this, n);\n    var d, f, g;\n    _this3 = _super.call(this), _this3.onWindowResize = function () {\n      _this3.wrapperWidth = window.innerWidth, _this3.wrapperHeight = window.innerHeight;\n    }, _this3.onWrapperResize = function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 1),\n        t = _ref3[0];\n      if (t) {\n        var _i = t.contentRect;\n        _this3.wrapperWidth = _i.width, _this3.wrapperHeight = _i.height;\n      }\n    }, _this3.onContentResize = function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 1),\n        t = _ref5[0];\n      if (t) {\n        var _i2 = t.contentRect;\n        _this3.contentWidth = _i2.width, _this3.contentHeight = _i2.height;\n      }\n    }, _this3.onVirtualScroll = function (_ref6) {\n      var t = _ref6.deltaY,\n        i = _ref6.deltaX,\n        e = _ref6.originalEvent;\n      var s = !!e.composedPath().find(function (t) {\n        return t.hasAttribute && t.hasAttribute(\"data-lenis-prevent\");\n      });\n      if (e.ctrlKey || s) return;\n      if (_this3.smooth = e.changedTouches ? _this3.smoothTouch : _this3.options.smooth, _this3.stopped) return void e.preventDefault();\n      if (!_this3.smooth) return;\n      if (4 === e.buttons) return;\n      _this3.smooth && e.preventDefault();\n      var r = 0;\n      r = \"both\" === _this3.gestureDirection ? i + t : \"horizontal\" === _this3.gestureDirection ? i : t, _this3.targetScroll -= r, _this3.scrollTo(_this3.targetScroll);\n    }, _this3.onScroll = function (t) {\n      _this3.isScrolling && _this3.smooth || (_this3.targetScroll = _this3.scroll = _this3.lastScroll = _this3.wrapperNode[_this3.scrollProperty], _this3.notify());\n    }, window.lenisVersion = \"0.2.21\", _this3.options = {\n      duration: t,\n      easing: e,\n      smooth: s,\n      mouseMultiplier: r,\n      smoothTouch: _n,\n      touchMultiplier: h,\n      direction: l,\n      gestureDirection: c,\n      infinite: a,\n      wrapper: p,\n      content: u\n    }, _this3.duration = t, _this3.easing = e, _this3.smooth = s, _this3.mouseMultiplier = r, _this3.smoothTouch = _n, _this3.touchMultiplier = h, _this3.direction = l, _this3.gestureDirection = c, _this3.infinite = a, _this3.wrapperNode = p, _this3.contentNode = u, _this3.wrapperNode.addEventListener(\"scroll\", _this3.onScroll), _this3.wrapperNode === window ? (_this3.wrapperNode.addEventListener(\"resize\", _this3.onWindowResize), _this3.onWindowResize()) : (_this3.wrapperHeight = _this3.wrapperNode.offsetHeight, _this3.wrapperWidth = _this3.wrapperNode.offsetWidth, _this3.wrapperObserver = new ResizeObserver(_this3.onWrapperResize), _this3.wrapperObserver.observe(_this3.wrapperNode)), _this3.contentHeight = _this3.contentNode.offsetHeight, _this3.contentWidth = _this3.contentNode.offsetWidth, _this3.contentObserver = new ResizeObserver(_this3.onContentResize), _this3.contentObserver.observe(_this3.contentNode), _this3.targetScroll = _this3.scroll = _this3.lastScroll = _this3.wrapperNode[_this3.scrollProperty], _this3.animate = new o();\n    var w = (null == (d = navigator) || null == (f = d.userAgentData) ? void 0 : f.platform) || (null == (g = navigator) ? void 0 : g.platform) || \"unknown\";\n    _this3.virtualScroll = new i({\n      el: _this3.wrapperNode,\n      firefoxMultiplier: 50,\n      mouseMultiplier: _this3.mouseMultiplier * (w.includes(\"Win\") ? .84 : .4),\n      touchMultiplier: _this3.touchMultiplier,\n      passive: !1,\n      useKeyboard: !1,\n      useTouch: !0\n    }), _this3.virtualScroll.on(_this3.onVirtualScroll);\n    return _this3;\n  }\n  _createClass(n, [{\n    key: \"scrollProperty\",\n    get: function get() {\n      var t;\n      return t = this.wrapperNode === window ? \"horizontal\" === this.direction ? \"scrollX\" : \"scrollY\" : \"horizontal\" === this.direction ? \"scrollLeft\" : \"scrollTop\", t;\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      this.stopped = !1;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.stopped = !0, this.animate.stop();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var t;\n      this.wrapperNode === window && this.wrapperNode.removeEventListener(\"resize\", this.onWindowResize), this.wrapperNode.removeEventListener(\"scroll\", this.onScroll), this.virtualScroll.destroy(), null == (t = this.wrapperObserver) || t.disconnect(), this.contentObserver.disconnect();\n    }\n  }, {\n    key: \"limit\",\n    get: function get() {\n      return \"horizontal\" === this.direction ? this.contentWidth - this.wrapperWidth : this.contentHeight - this.wrapperHeight;\n    }\n  }, {\n    key: \"raf\",\n    value: function raf(t) {\n      var i = t - (this.now || 0);\n      this.now = t, !this.stopped && this.smooth && (this.lastScroll = this.scroll, this.animate.raf(.001 * i), this.scroll === this.targetScroll && (this.lastScroll = this.scroll), this.isScrolling && (this.setScroll(this.scroll), this.notify()), this.isScrolling = this.scroll !== this.targetScroll);\n    }\n  }, {\n    key: \"velocity\",\n    get: function get() {\n      return this.scroll - this.lastScroll;\n    }\n  }, {\n    key: \"setScroll\",\n    value: function setScroll(t) {\n      var i = this.infinite ? s(t, this.limit) : t;\n      \"horizontal\" === this.direction ? this.wrapperNode.scrollTo(i, 0) : this.wrapperNode.scrollTo(0, i);\n    }\n  }, {\n    key: \"notify\",\n    value: function notify() {\n      var t = this.infinite ? s(this.scroll, this.limit) : this.scroll;\n      this.emit(\"scroll\", {\n        scroll: t,\n        limit: this.limit,\n        velocity: this.velocity,\n        direction: this.lastScroll < t ? 1 : -1,\n        progress: t / this.limit\n      });\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(t) {\n      var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref7$offset = _ref7.offset,\n        i = _ref7$offset === void 0 ? 0 : _ref7$offset,\n        _ref7$immediate = _ref7.immediate,\n        e = _ref7$immediate === void 0 ? !1 : _ref7$immediate,\n        _ref7$duration = _ref7.duration,\n        s = _ref7$duration === void 0 ? this.duration : _ref7$duration,\n        _ref7$easing = _ref7.easing,\n        r = _ref7$easing === void 0 ? this.easing : _ref7$easing;\n      if (null == t) return;\n      var o;\n      if (\"number\" == typeof t) o = t;else if (\"top\" === t || \"#top\" === t) o = 0;else if (\"bottom\" === t) o = this.limit;else {\n        var _i3;\n        if (\"string\" == typeof t) _i3 = document.querySelector(t);else {\n          if (null == t || !t.nodeType) return;\n          _i3 = t;\n        }\n        if (!_i3) return;\n        var _e = 0;\n        if (this.wrapperNode !== window) {\n          var _t2 = this.wrapperNode.getBoundingClientRect();\n          _e = \"horizontal\" === this.direction ? _t2.left : _t2.top;\n        }\n        var _s = _i3.getBoundingClientRect();\n        o = (\"horizontal\" === this.direction ? _s.left : _s.top) + this.scroll - _e;\n      }\n      o += i, this.targetScroll = this.infinite ? o : Math.max(0, Math.min(o, this.limit)), !this.smooth || e ? (this.scroll = this.lastScroll = this.targetScroll, this.setScroll(this.targetScroll)) : this.animate.to(this, {\n        duration: s,\n        easing: r,\n        scroll: this.targetScroll\n      });\n    }\n  }]);\n  return n;\n}(t);\nexport { n as default };","map":{"version":3,"mappings":"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","names":["value","max","v","to","target","_ref","keys","duration","easing","t","this","fromKeys","_extends","toKeys","Object","forEach","key","currentTime","isRunning","stop","raf","deltaTime","Math","min","progress","from","Lenis","constructor","pow","smooth","mouseMultiplier","smoothTouch","touchMultiplier","direction","gestureDirection","infinite","wrapper","window","content","document","body","super","onWindowResize","wrapperWidth","innerWidth","wrapperHeight","innerHeight","onWrapperResize","entry","rect","contentRect","width","height","onContentResize","contentWidth","contentHeight","onVirtualScroll","e","deltaY","deltaX","originalEvent","preventScroll","composedPath","find","node","hasAttribute","ctrlKey","changedTouches","options","stopped","preventDefault","buttons","delta","targetScroll","scrollTo","onScroll","isScrolling","scroll","lastScroll","wrapperNode","scrollProperty","notify","lenisVersion","contentNode","addEventListener","offsetHeight","offsetWidth","wrapperObserver","ResizeObserver","observe","contentObserver","animate","platform","_navigator$userAgentD","userAgentData","navigator","virtualScroll","el","firefoxMultiplier","includes","passive","useKeyboard","useTouch","on","property","start","destroy","removeEventListener","disconnect","_this$wrapperObserver","limit","now","setScroll","velocity","modulo","emit","offset","immediate","querySelector","nodeType","wrapperOffset","wrapperRect","getBoundingClientRect","left","top"],"sources":["I:\\pherones\\immemorial\\node_modules\\@studio-freight\\lenis\\src\\maths.js","I:\\pherones\\immemorial\\node_modules\\@studio-freight\\lenis\\src\\lenis.js"],"sourcesContent":["export function clamp(min, input, max) {\r\n  return Math.max(min, Math.min(input, max))\r\n}\r\n\r\nexport function mapRange(in_min, in_max, input, out_min, out_max) {\r\n  return ((input - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min\r\n}\r\n\r\nexport function lerp(start, end, amt) {\r\n  return (1 - amt) * start + amt * end\r\n}\r\n\r\nexport function truncate(value, decimals) {\r\n  return parseFloat(value.toFixed(decimals))\r\n}\r\n\r\nexport function modulo(value, max) {\r\n  let v = value % max\r\n  if (v < 0) {\r\n    v += max\r\n  }\r\n\r\n  return v\r\n}\r\n","import EventEmitter from 'tiny-emitter'\r\nimport VirtualScroll from 'virtual-scroll'\r\nimport { version } from '../package.json'\r\nimport { clamp, modulo } from './maths'\r\n\r\nclass Animate {\r\n  to(target, { duration = 1, easing = (t) => t, ...keys } = {}) {\r\n    this.target = target\r\n    this.fromKeys = { ...keys }\r\n    this.toKeys = { ...keys }\r\n    this.keys = Object.keys({ ...keys })\r\n\r\n    // get initial values\r\n    this.keys.forEach((key) => {\r\n      this.fromKeys[key] = target[key]\r\n    })\r\n\r\n    this.duration = duration\r\n    this.easing = easing\r\n    this.currentTime = 0\r\n    this.isRunning = true\r\n  }\r\n\r\n  stop() {\r\n    this.isRunning = false\r\n  }\r\n\r\n  raf(deltaTime) {\r\n    if (!this.isRunning) return\r\n\r\n    this.currentTime = Math.min(this.currentTime + deltaTime, this.duration)\r\n\r\n    const progress = this.easing(this.progress)\r\n\r\n    this.keys.forEach((key) => {\r\n      const from = this.fromKeys[key]\r\n      const to = this.toKeys[key]\r\n\r\n      const value = from + (to - from) * progress\r\n\r\n      this.target[key] = value\r\n    })\r\n\r\n    if (progress === 1) {\r\n      this.stop()\r\n    }\r\n  }\r\n\r\n  get progress() {\r\n    return this.currentTime / this.duration\r\n  }\r\n}\r\n\r\nexport default class Lenis extends EventEmitter {\r\n  /**\r\n   * @typedef {(t: number) => number} EasingFunction\r\n   * @typedef {'vertical' | 'horizontal'} Direction\r\n   * @typedef {'vertical' | 'horizontal' | 'both'} GestureDirection\r\n   *\r\n   * @typedef LenisOptions\r\n   * @property {number} [duration]\r\n   * @property {EasingFunction} [easing]\r\n   * @property {boolean} [smooth]\r\n   * @property {number} [mouseMultiplier]\r\n   * @property {boolean} [smoothTouch]\r\n   * @property {number} [touchMultiplier]\r\n   * @property {Direction} [direction]\r\n   * @property {GestureDirection} [gestureDirection]\r\n   * @property {boolean} [infinite]\r\n   * @property {Window | HTMLElement} [wrapper]\r\n   * @property {HTMLElement} [content]\r\n   *\r\n   * @param {LenisOptions}\r\n   */\r\n  constructor({\r\n    duration = 1.2,\r\n    easing = (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), // https://www.desmos.com/calculator/k2tgx2kn8t\r\n    smooth = true,\r\n    mouseMultiplier = 1,\r\n    smoothTouch = false,\r\n    touchMultiplier = 2,\r\n    direction = 'vertical', // vertical, horizontal\r\n    gestureDirection = 'vertical', // vertical, horizontal, both\r\n    infinite = false,\r\n    wrapper = window,\r\n    content = document.body,\r\n  } = {}) {\r\n    super()\r\n\r\n    window.lenisVersion = version\r\n\r\n    this.options = {\r\n      duration,\r\n      easing,\r\n      smooth,\r\n      mouseMultiplier,\r\n      smoothTouch,\r\n      touchMultiplier,\r\n      direction,\r\n      gestureDirection,\r\n      infinite,\r\n      wrapper,\r\n      content,\r\n    }\r\n\r\n    this.duration = duration\r\n    this.easing = easing\r\n    this.smooth = smooth\r\n    this.mouseMultiplier = mouseMultiplier\r\n    this.smoothTouch = smoothTouch\r\n    this.touchMultiplier = touchMultiplier\r\n    this.direction = direction\r\n    this.gestureDirection = gestureDirection\r\n    this.infinite = infinite\r\n    this.wrapperNode = wrapper\r\n    this.contentNode = content\r\n\r\n    this.wrapperNode.addEventListener('scroll', this.onScroll)\r\n\r\n    //observe wrapper node size\r\n    if (this.wrapperNode === window) {\r\n      this.wrapperNode.addEventListener('resize', this.onWindowResize)\r\n      this.onWindowResize()\r\n    } else {\r\n      this.wrapperHeight = this.wrapperNode.offsetHeight\r\n      this.wrapperWidth = this.wrapperNode.offsetWidth\r\n\r\n      //observe wrapper node size\r\n      this.wrapperObserver = new ResizeObserver(this.onWrapperResize)\r\n      this.wrapperObserver.observe(this.wrapperNode)\r\n    }\r\n\r\n    this.contentHeight = this.contentNode.offsetHeight\r\n    this.contentWidth = this.contentNode.offsetWidth\r\n\r\n    //observe content node size\r\n    this.contentObserver = new ResizeObserver(this.onContentResize)\r\n    this.contentObserver.observe(this.contentNode)\r\n\r\n    //set initial scroll position\r\n    this.targetScroll =\r\n      this.scroll =\r\n      this.lastScroll =\r\n        this.wrapperNode[this.scrollProperty]\r\n\r\n    this.animate = new Animate()\r\n\r\n    const platform =\r\n      navigator?.userAgentData?.platform || navigator?.platform || 'unknown'\r\n\r\n    // listen and normalize wheel event cross-browser\r\n    this.virtualScroll = new VirtualScroll({\r\n      el: this.wrapperNode,\r\n      firefoxMultiplier: 50,\r\n      mouseMultiplier:\r\n        this.mouseMultiplier * (platform.includes('Win') ? 0.84 : 0.4),\r\n      touchMultiplier: this.touchMultiplier,\r\n      passive: false,\r\n      useKeyboard: false,\r\n      useTouch: true,\r\n    })\r\n\r\n    this.virtualScroll.on(this.onVirtualScroll)\r\n  }\r\n\r\n  get scrollProperty() {\r\n    let property\r\n    if (this.wrapperNode === window) {\r\n      property = this.direction === 'horizontal' ? 'scrollX' : 'scrollY'\r\n    } else {\r\n      property = this.direction === 'horizontal' ? 'scrollLeft' : 'scrollTop'\r\n    }\r\n    return property\r\n  }\r\n\r\n  start() {\r\n    this.stopped = false\r\n  }\r\n\r\n  stop() {\r\n    this.stopped = true\r\n    this.animate.stop()\r\n  }\r\n\r\n  destroy() {\r\n    if (this.wrapperNode === window) {\r\n      this.wrapperNode.removeEventListener('resize', this.onWindowResize)\r\n    }\r\n    this.wrapperNode.removeEventListener('scroll', this.onScroll)\r\n\r\n    this.virtualScroll.destroy()\r\n    this.wrapperObserver?.disconnect()\r\n    this.contentObserver.disconnect()\r\n  }\r\n\r\n  onWindowResize = () => {\r\n    this.wrapperWidth = window.innerWidth\r\n    this.wrapperHeight = window.innerHeight\r\n  }\r\n\r\n  onWrapperResize = ([entry]) => {\r\n    if (entry) {\r\n      const rect = entry.contentRect\r\n      this.wrapperWidth = rect.width\r\n      this.wrapperHeight = rect.height\r\n    }\r\n  }\r\n\r\n  onContentResize = ([entry]) => {\r\n    if (entry) {\r\n      const rect = entry.contentRect\r\n      this.contentWidth = rect.width\r\n      this.contentHeight = rect.height\r\n    }\r\n  }\r\n\r\n  get limit() {\r\n    return this.direction === 'horizontal'\r\n      ? this.contentWidth - this.wrapperWidth\r\n      : this.contentHeight - this.wrapperHeight\r\n  }\r\n\r\n  onVirtualScroll = ({ deltaY, deltaX, originalEvent: e }) => {\r\n    const preventScroll = !!e\r\n      .composedPath()\r\n      .find(\r\n        (node) => node.hasAttribute && node.hasAttribute('data-lenis-prevent')\r\n      )\r\n\r\n    if (e.ctrlKey || preventScroll) return\r\n\r\n    // switch to smooth if event is touch and if smoothTouch=true\r\n    this.smooth = !!e.changedTouches ? this.smoothTouch : this.options.smooth\r\n\r\n    if (this.stopped) {\r\n      e.preventDefault()\r\n      return\r\n    }\r\n\r\n    if (!this.smooth) return\r\n\r\n    // fix wheel holding scroll https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\r\n    if (e.buttons === 4) return\r\n\r\n    // prevent native wheel scrolling\r\n    if (this.smooth) e.preventDefault()\r\n\r\n    let delta = 0\r\n    if (this.gestureDirection === 'both') {\r\n      delta = deltaX + deltaY\r\n    } else if (this.gestureDirection === 'horizontal') {\r\n      delta = deltaX\r\n    } else {\r\n      // vertical\r\n      delta = deltaY\r\n    }\r\n\r\n    this.targetScroll -= delta\r\n    // this.targetScroll = clamp(0, this.targetScroll, this.limit)\r\n\r\n    this.scrollTo(this.targetScroll)\r\n  }\r\n\r\n  raf(now) {\r\n    const deltaTime = now - (this.now || 0)\r\n    this.now = now\r\n\r\n    if (this.stopped || !this.smooth) return\r\n\r\n    this.lastScroll = this.scroll\r\n\r\n    // where this.scroll is updated\r\n    this.animate.raf(deltaTime * 0.001)\r\n\r\n    if (this.scroll === this.targetScroll) {\r\n      // if target reached velocity should be 0\r\n      this.lastScroll = this.scroll\r\n    }\r\n\r\n    if (this.isScrolling) {\r\n      this.setScroll(this.scroll)\r\n      this.notify()\r\n    }\r\n\r\n    this.isScrolling = this.scroll !== this.targetScroll\r\n  }\r\n\r\n  get velocity() {\r\n    return this.scroll - this.lastScroll\r\n  }\r\n\r\n  setScroll(value) {\r\n    let scroll = this.infinite ? modulo(value, this.limit) : value\r\n\r\n    this.direction === 'horizontal'\r\n      ? this.wrapperNode.scrollTo(scroll, 0)\r\n      : this.wrapperNode.scrollTo(0, scroll)\r\n  }\r\n\r\n  onScroll = (e) => {\r\n    // if isScrolling false we can consider user isn't scrolling with wheel (cmd+F, keyboard or whatever). So we must scroll to value immediately\r\n    if (!this.isScrolling || !this.smooth) {\r\n      // where native scroll happens\r\n      this.targetScroll =\r\n        this.scroll =\r\n        this.lastScroll =\r\n          this.wrapperNode[this.scrollProperty]\r\n\r\n      this.notify()\r\n    }\r\n  }\r\n\r\n  notify() {\r\n    let scroll = this.infinite ? modulo(this.scroll, this.limit) : this.scroll\r\n\r\n    let direction = this.lastScroll < scroll ? 1 : -1\r\n\r\n    this.emit('scroll', {\r\n      scroll,\r\n      limit: this.limit,\r\n      velocity: this.velocity,\r\n      direction,\r\n      progress: scroll / this.limit,\r\n    })\r\n  }\r\n\r\n  scrollTo(\r\n    target,\r\n    {\r\n      offset = 0,\r\n      immediate = false,\r\n      duration = this.duration,\r\n      easing = this.easing,\r\n    } = {}\r\n  ) {\r\n    if (target === undefined || target === null) return\r\n    let value\r\n\r\n    if (typeof target === 'number') {\r\n      value = target\r\n    } else if (target === 'top' || target === '#top') {\r\n      value = 0\r\n    } else if (target === 'bottom') {\r\n      value = this.limit\r\n    } else {\r\n      let node\r\n\r\n      if (typeof target === 'string') {\r\n        // CSS selector\r\n        node = document.querySelector(target)\r\n      } else if (target?.nodeType) {\r\n        // Node element\r\n        node = target\r\n      } else {\r\n        return\r\n      }\r\n\r\n      if (!node) return\r\n      let wrapperOffset = 0\r\n\r\n      if (this.wrapperNode !== window) {\r\n        const wrapperRect = this.wrapperNode.getBoundingClientRect()\r\n        wrapperOffset =\r\n          this.direction === 'horizontal' ? wrapperRect.left : wrapperRect.top\r\n      }\r\n\r\n      const rect = node.getBoundingClientRect()\r\n\r\n      value =\r\n        (this.direction === 'horizontal' ? rect.left : rect.top) +\r\n        this.scroll -\r\n        wrapperOffset\r\n    }\r\n\r\n    value += offset\r\n\r\n    if (this.infinite) {\r\n      this.targetScroll = value\r\n    } else {\r\n      this.targetScroll = clamp(0, value, this.limit)\r\n    }\r\n\r\n    if (!this.smooth || immediate) {\r\n      this.scroll = this.lastScroll = this.targetScroll\r\n      this.setScroll(this.targetScroll)\r\n    } else {\r\n      this.animate.to(this, {\r\n        duration,\r\n        easing,\r\n        scroll: this.targetScroll,\r\n      })\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}